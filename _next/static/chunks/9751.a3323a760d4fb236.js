"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9751],{27191:function(e,t,a){a.r(t),a.d(t,{BlogListPage:function(){return d}});var r=a(85893),s=a(21384),l=a(24465),n=a(7835),o=a(11163),i=a(67294),c=a(42439);let d=e=>{let{page:t=1,posts:a,postCount:d}=e,{locale:u}=(0,l.O)(),x=(0,o.useRouter)(),{NOTION_CONFIG:m}=(0,l.O)(),h=(0,s.JA)("POSTS_PER_PAGE",null,m),p=+t,f=x.asPath.split("?")[0].replace(/\/page\/[1-9]\d*/,"").replace(/\/$/,"").replace(".html",""),g=(0,i.useRef)([]);return(0,i.useEffect)(()=>{let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.toggle("visible")})},{threshold:.1});return g.current.forEach(t=>{e.observe(t)}),()=>{e.disconnect()}},[]),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{id:"posts-wrapper",className:"grid lg:grid-cols-3 grid-cols-1 md:grid-cols-2",children:null==a?void 0:a.map((t,a)=>(0,r.jsx)(c.default,{index:a,className:"blog-post",post:t,...e,ref:e=>g.current.push(e)},t.id))}),(0,r.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,r.jsx)(n.Z,{href:{pathname:p-1==1?"".concat(f,"/"):"".concat(f,"/page/").concat(p-1),query:x.query.s?{s:x.query.s}:{}},className:"".concat(p>1?"  ":" invisible block pointer-events-none ","no-underline py-2 px-3 rounded"),children:(0,r.jsxs)("button",{rel:"prev",className:"block cursor-pointer",children:["← ",u.PAGINATION.PREV]})}),(0,r.jsx)(n.Z,{href:{pathname:"".concat(f,"/page/").concat(p+1),query:x.query.s?{s:x.query.s}:{}},className:"".concat(t<Math.ceil(d/h)?"  ":"invisible pointer-events-none ","  no-underline py-2 px-3 rounded"),children:(0,r.jsxs)("button",{rel:"next",className:"block cursor-pointer",children:[u.PAGINATION.NEXT," →"]})})]})]})}},42439:function(e,t,a){a.r(t);var r=a(85893),s=a(69633),l=a(7835),n=a(49751),o=a(47935),i=a(78790),c=a(98685),d=a(21384);t.default=e=>{let{post:t,index:a,siteInfo:u}=e,x=(0,s.h)((null==t?void 0:t.pageCoverThumbnail)||(null==u?void 0:u.pageCover)),{setModalContent:m,setShowModal:h}=(0,n.usePlogGlobal)(),p=100*a;return(0,o.isMobile)()&&(p=0),(0,r.jsxs)("article",{onClick:()=>{h(!0),m(t)},"data-aos-delay":"".concat(p),"data-aos":"fade-up","data-aos-duration":"500","data-aos-once":"true","data-aos-anchor-placement":"top-bottom",className:"cursor-pointer relative",children:[(0,r.jsx)(i.Z,{src:x,className:"aspect-[16/9] w-full h-full object-cover filter contrast-120"}),(0,r.jsxs)("h2",{className:"text-md absolute left-0 bottom-0 m-4 text-gray-100 shadow-text",children:[(0,d.JA)("POST_TITLE_ICON")&&(0,r.jsx)(c.Z,{icon:t.pageIcon})," ",null==t?void 0:t.title]}),(null==t?void 0:t.category)&&(0,r.jsx)("div",{className:"text-xs rounded-lg absolute left-0 top-0 m-4 px-2 py-1 bg-gray-200 dark:bg-black dark:bg-opacity-25 hover:bg-blue-700 hover:text-white duration-200",children:(0,r.jsx)(l.Z,{href:"/category/".concat(null==t?void 0:t.category),children:null==t?void 0:t.category})})]},null==t?void 0:t.id)}},42946:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var r=a(85893),s=a(37352),l=a(78790),n=a(69633),o=a(89121),i=a(84169),c=a(7835),d=a(67294),u=a(49751);function x(e){let{showModal:t,setShowModal:a,modalContent:x,setModalContent:m}=(0,u.usePlogGlobal)(),{siteInfo:h,posts:p}=e,f=(0,d.useRef)(null),g=(null==x?void 0:x.pageCoverThumbnail)||(null==h?void 0:h.pageCoverThumbnail),v=(0,n.h)((null==x?void 0:x.pageCover)||(null==h?void 0:h.pageCover),1200,85,"webp"),y=(0,d.useRef)(null),[j,b]=(0,d.useState)(!0);return(0,r.jsx)(o.u.Root,{show:t,as:d.Fragment,children:(0,r.jsxs)(i.V,{as:"div",className:"relative z-20",initialFocus:f,onClose:function(){a(!1),b(!0)},children:[(0,r.jsx)(o.u.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},className:"fixed inset-0 glassmorphism transition-opacity"})}),(0,r.jsx)("div",{className:"fixed inset-0 z-30 overflow-y-auto",children:(0,r.jsx)("div",{className:"flex min-h-full justify-center p-4 text-center items-center",children:(0,r.jsx)(o.u.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 scale-50 w-0",enterTo:"opacity-100 translate-y-0 max-w-screen",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 scale-100  max-w-screen",leaveTo:"opacity-0 translate-y-4 scale-50 w-0",children:(0,r.jsxs)(i.V.Panel,{className:"group relative transform overflow-hidden rounded-xl text-left shadow-xl transition-all ",children:[(0,r.jsx)("div",{className:"absolute right-0 bottom-0 m-4 ".concat(j?"":"hidden"),children:(0,r.jsx)(s.pL,{className:"w-10 h-10 animate-spin text-gray-200"})}),(0,r.jsx)(c.Z,{href:null==x?void 0:x.href,children:(0,r.jsx)(l.Z,{onLoad:function(){b(!1)},placeholderSrc:g,src:v,ref:y,className:"w-full select-none max-w-7xl max-h-[90vh] shadow-xl  animate__animated animate__fadeIn'"})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 m-4 z-20",children:[(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)("h2",{style:{textShadow:"0.1em 0.1em 0.2em black"},className:"text-2xl md:text-5xl text-white mb-4 px-2 py-1 rounded-lg",children:null==x?void 0:x.title})}),(0,r.jsx)("div",{style:{textShadow:"0.1em 0.1em 0.2em black"},className:"line-clamp-3 md:line-clamp-none overflow-hidden cursor-pointer text-gray-50 rounded-lg m-2",children:null==x?void 0:x.summary}),(null==x?void 0:x.category)&&(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)(c.Z,{href:"/category/".concat(null==x?void 0:x.category),className:"text-xs rounded-lg mt-3 px-2 py-1 bg-black bg-opacity-20 text-white hover:bg-blue-700 hover:text-white duration-200",children:null==x?void 0:x.category})})]}),(0,r.jsx)("div",{className:"h-1/2 w-full absolute left-0 bottom-0",children:(0,r.jsx)("div",{className:"h-full w-full absolute opacity-80 group-hover:opacity-100 transition-all duration-1000 bg-gradient-to-b from-transparent to-black"})}),(0,r.jsx)("div",{onClick:function(){b(!0);let e=null==p?void 0:p.findIndex(e=>e.slug===x.slug);0===e?m(p[p.length-1]):m(p[e-1])},className:"z-10 absolute left-0 top-1/2 -mt-12 group-hover:opacity-50 opacity-0 duration-200 transition-opacity",children:(0,r.jsx)(s.s$,{className:"cursor-pointer w-24 h-32 hover:opacity-100 stroke-white stroke-1 scale-y-150"})}),(0,r.jsx)("div",{onClick:()=>{b(!0);let e=p.findIndex(e=>e.slug===x.slug);e===p.length-1?m(p[0]):m(p[e+1])},className:"z-10 absolute right-0 top-1/2 -mt-12 group-hover:opacity-50 opacity-0 duration-200 transition-opacity",children:(0,r.jsx)(s._Q,{className:"cursor-pointer w-24 h-32 hover:opacity-100 stroke-white stroke-1 scale-y-150"})})]})]})})})})]})})}},49751:function(e,t,a){a.r(t),a.d(t,{Layout404:function(){return O},LayoutArchive:function(){return S},LayoutBase:function(){return _},LayoutCategoryIndex:function(){return R},LayoutIndex:function(){return E},LayoutPostList:function(){return L},LayoutSearch:function(){return P},LayoutSlug:function(){return A},LayoutTagIndex:function(){return Z},THEME_CONFIG:function(){return T.default},usePlogGlobal:function(){return F}});var r=a(85893),s=a(83610),l=a(834),n=a(88752),o=a(26416),i=a(21384),c=a(24465),d=a(47935),u=a(89121),x=a(7835),m=a(11163),h=a(67294),p=a(5280),f=a(29510),g=a(88057),v=a(83952),y=a(27191),j=a(61503),b=a(68134),N=a(42946),w=a(46050),k=a(2973),T=a(79621),C=a(36091);let I=(0,h.createContext)(),F=()=>(0,h.useContext)(I),_=e=>{let{children:t,topSlot:a}=e,{onLoading:s}=(0,c.O)(),[l,n]=(0,h.useState)(!1),[o,d]=(0,h.useState)(null),x=(0,m.useRouter)(),p=()=>{n(!1)};return(0,h.useEffect)(()=>(x.events.on("routeChangeComplete",p),()=>{x.events.off("routeChangeComplete",p)}),[x.events]),(0,r.jsx)(I.Provider,{value:{showModal:l,setShowModal:n,modalContent:o,setModalContent:d},children:(0,r.jsxs)("div",{id:"theme-plog",className:"".concat((0,i.JA)("FONT_STYLE")," plog relative dark:text-gray-300 w-full dark:bg-black min-h-screen scroll-smooth"),children:[(0,r.jsx)(C.Style,{}),(0,r.jsx)(w.default,{...e}),(0,r.jsx)("main",{id:"out-wrapper",className:"relative m-auto flex-grow w-full transition-all pb-16 pt-16 md:pt-0",children:(0,r.jsxs)(u.u,{show:!s,appear:!0,enter:"transition ease-in-out duration-700 transform order-first",enterFrom:"opacity-0 translate-y-16",enterTo:"opacity-100",leave:"transition ease-in-out duration-300 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-16",unmount:!1,children:[a,t]})}),(0,r.jsx)(N.default,{...e}),(0,r.jsx)(b.default,{...e})]})})},E=e=>(0,r.jsx)(L,{...e}),L=e=>(0,r.jsx)(r.Fragment,{children:"page"===(0,i.JA)("POST_LIST_STYLE")?(0,r.jsx)(y.BlogListPage,{...e}):(0,r.jsx)(j.BlogListScroll,{...e})}),P=e=>{let{keyword:t}=e;return(0,h.useEffect)(()=>{d.isBrowser&&(0,l.Z)({doms:document.getElementById("posts-wrapper"),search:t,target:{element:"span",className:"text-red-500 border-b border-dashed"}})},[]),(0,r.jsx)(L,{...e,topSlot:(0,r.jsx)(k.default,{...e})})},S=e=>{let{archivePosts:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"mb-10 pb-20 md:py-12 p-3  min-h-screen w-full",children:Object.keys(t).map(e=>(0,r.jsx)(v.default,{archiveTitle:e,archivePosts:t},e))})})},A=e=>{let{post:t,lock:a,validPassword:l}=e,c=(0,m.useRouter)(),u=1e3*(0,i.JA)("POST_WAITING_TIME_FOR_404");return(0,h.useEffect)(()=>{t||setTimeout(()=>{d.isBrowser&&!document.querySelector("#article-wrapper #notion-article")&&c.push("/404").then(()=>{console.warn("找不到页面",c.asPath)})},u)},[t]),(0,r.jsxs)(r.Fragment,{children:[a&&(0,r.jsx)(g.ArticleLock,{validPassword:l}),!a&&t&&(0,r.jsx)("div",{className:"px-2 my-16 max-w-6xl mx-auto",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.ArticleInfo,{post:t}),(0,r.jsx)("div",{id:"article-wrapper",children:(0,r.jsx)(n.default,{post:t})}),(0,r.jsx)(o.default,{post:t}),(0,r.jsx)(s.default,{frontMatter:t}),(0,r.jsx)(p.ArticleFooter,{})]})})]})},O=e=>{let t=(0,m.useRouter)();return(0,h.useEffect)(()=>{setTimeout(()=>{d.isBrowser&&document.getElementById("article-wrapper")||t.push("/").then(()=>{})},3e3)},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"md:-mt-20 text-black w-full h-screen text-center justify-center content-center items-center flex flex-col",children:(0,r.jsxs)("div",{className:"dark:text-gray-200",children:[(0,r.jsxs)("h2",{className:"inline-block border-r-2 border-gray-600 mr-2 px-3 py-2 align-top",children:[(0,r.jsx)("i",{className:"mr-2 fas fa-spinner animate-spin"}),"404"]}),(0,r.jsx)("div",{className:"inline-block text-left h-32 leading-10 items-center",children:(0,r.jsx)("h2",{className:"m-0 p-0",children:"页面无法加载，即将返回首页"})})]})})})},R=e=>{let{categoryOptions:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{id:"category-list",className:"duration-200 flex flex-wrap",children:null==t?void 0:t.map(e=>(0,r.jsx)(x.Z,{href:"/category/".concat(e.name),passHref:!0,legacyBehavior:!0,children:(0,r.jsxs)("div",{className:"hover:text-black dark:hover:text-white dark:text-gray-300 dark:hover:bg-gray-600 px-5 cursor-pointer py-2 hover:bg-gray-100",children:[(0,r.jsx)("i",{className:"mr-4 fas fa-folder"}),e.name,"(",e.count,")"]})},e.name))})})},Z=e=>{let{tagOptions:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{id:"tags-list",className:"duration-200 flex flex-wrap",children:t.map(e=>(0,r.jsx)("div",{className:"p-2",children:(0,r.jsx)(x.Z,{href:"/tag/".concat(encodeURIComponent(e.name)),passHref:!0,className:"cursor-pointer inline-block rounded hover:bg-gray-500 hover:text-white duration-200 mr-2 py-1 px-2 text-xs whitespace-nowrap dark:hover:text-white text-gray-600 hover:shadow-xl dark:border-gray-400 notion-".concat(e.color,"_background dark:bg-gray-800"),children:(0,r.jsxs)("div",{className:"font-light dark:text-gray-400",children:[(0,r.jsx)("i",{className:"mr-1 fas fa-tag"})," ",e.name+(e.count?"(".concat(e.count,")"):"")," "]})},e)},e.name))})})})}}}]);