"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4864],{31411:function(e,s,a){a.r(s);var t=a(85893),r=a(93130),l=a(31),n=a(21384),i=a(24465),c=a(47935),d=a(82140),o=a(61236),u=a(11163),x=a(67294),f=a(97415),m=a(987),h=a(10945),j=a(6307),p=a(38618),v=a(7645),g=a(36573),y=a(34864),N=a(20414),w=a(49706);s.default=function(e){let{tagOptions:s,currentTag:a,categoryOptions:b,currentCategory:k,post:A,slot:S,notice:E}=e,L=(0,u.useRouter)(),{fullWidth:_}=(0,i.O)(),O=_||(0,n.JA)("FUKASAWA_SIDEBAR_COLLAPSE_SATUS_DEFAULT",null,d.default),I=(0,n.JA)("FUKASAWA_SIDEBAR_COLLAPSE_ON_SCROLL",!1,d.default),T=(0,n.JA)("FUKASAWA_SIDEBAR_COLLAPSE_BUTTON",null,d.default),[R,C]=(0,x.useState)(()=>"true"===localStorage.getItem("fukasawa-sidebar-collapse")||O);(0,x.useEffect)(()=>{c.isBrowser&&localStorage.setItem("fukasawa-sidebar-collapse",R)},[R]);let P=(0,n.JA)("LAYOUT_SIDEBAR_REVERSE"),F=(0,x.useMemo)(()=>R?P?"right-2":"left-2":P?"right-80":"left-80",[R]);return(0,x.useEffect)(()=>{if(!I)return;let e=(0,o.debounce)(()=>{window.innerWidth<1366||window.scrollY>=1366?C(!0):C(!1)},100);return A&&(window.addEventListener("resize",e),window.addEventListener("scroll",e,{passive:!0})),()=>{A&&(window.removeEventListener("resize",e),window.removeEventListener("scroll",e,{passive:!0}))}},[]),(0,t.jsxs)("div",{className:"sideLeft relative ".concat(R?"w-0":"w-80"," duration-300 transition-all bg-white dark:bg-hexo-black-gray min-h-screen hidden lg:block z-20"),children:[T&&(0,t.jsx)("div",{className:"".concat(F," hidden lg:block fixed top-0 cursor-pointer hover:scale-110 duration-300 px-3 py-2 dark:text-white"),onClick:()=>{C(!R)},children:R?(0,t.jsx)("i",{className:"fa-solid fa-indent text-xl"}):(0,t.jsx)("i",{className:"fas fa-bars text-xl"})}),(0,t.jsxs)("div",{className:"h-full ".concat(R?"hidden":"p-8"),children:[(0,t.jsx)(p.default,{...e}),(0,t.jsx)("section",{className:"siteInfo flex flex-col dark:text-gray-300 pt-8",children:(0,n.JA)("DESCRIPTION")}),(0,t.jsxs)("section",{className:"flex flex-col text-gray-600",children:[(0,t.jsx)("div",{className:"w-12 my-4"}),(0,t.jsx)(g.MenuList,{...e})]}),(0,t.jsxs)("section",{className:"flex flex-col text-gray-600",children:[(0,t.jsx)("div",{className:"w-12 my-4"}),(0,t.jsx)(y.default,{...e})]}),(0,t.jsxs)("section",{className:"flex flex-col dark:text-gray-300",children:[(0,t.jsx)("div",{className:"w-12 my-4"}),(0,t.jsx)(f.default,{post:E})]}),(0,t.jsx)("section",{children:(0,t.jsx)(v.default,{})}),(0,t.jsx)("section",{children:(0,t.jsx)(l.AdSlot,{type:"in-article"})}),"/tag"!==L.asPath&&(0,t.jsxs)("section",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"w-12 my-4"}),(0,t.jsx)(j.default,{tags:s,currentTag:a})]}),"/category"!==L.asPath&&(0,t.jsxs)("section",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"w-12 my-4"}),(0,t.jsx)(h.default,{categories:b,currentCategory:k})]}),(0,t.jsxs)("section",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"w-12 my-4"}),(0,t.jsx)(w.default,{}),(0,t.jsx)(N.default,{})]}),(0,t.jsx)("section",{className:"flex justify-center dark:text-gray-200 pt-4",children:(0,t.jsx)(r.Z,{})}),(0,t.jsxs)("section",{className:"sticky top-0 pt-12  flex flex-col max-h-screen ",children:[(0,t.jsx)(m.default,{toc:null==A?void 0:A.toc}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{children:S})})]})]})]})}},58536:function(e,s,a){a.r(s);var t=a(85893),r=a(91627),l=a(67294),n=a(38618),i=a(36573),c=a(34864);s.default=e=>{let[s,a]=(0,l.useState)(!1),d=(0,l.useRef)(null);return(0,t.jsx)("div",{id:"top-nav",className:"z-40 block lg:hidden",children:(0,t.jsxs)("div",{id:"sticky-nav",className:"relative w-full top-0 z-20 transform duration-500 bg-white dark:bg-black",children:[(0,t.jsx)(r.Z,{type:"vertical",isOpen:s,collapseRef:d,children:(0,t.jsxs)("div",{className:"py-1 px-5",children:[(0,t.jsx)(i.MenuList,{...e,onHeightChange:e=>{var s;return null===(s=d.current)||void 0===s?void 0:s.updateCollapseHeight(e)}}),(0,t.jsx)(c.default,{...e})]})}),(0,t.jsxs)("div",{className:"w-full flex justify-between items-center p-4 ",children:[(0,t.jsx)("div",{className:"flex flex-none flex-grow-0",children:(0,t.jsx)(n.default,{...e})}),(0,t.jsx)("div",{className:"flex"}),(0,t.jsx)("div",{className:"mr-1 flex justify-end items-center text-sm space-x-4 font-serif dark:text-gray-200",children:(0,t.jsx)("div",{onClick:()=>{a(!s)},className:"cursor-pointer text-lg p-2",children:s?(0,t.jsx)("i",{className:"fas fa-times"}):(0,t.jsx)("i",{className:"fas fa-bars"})})})]})]})})}},34864:function(e,s,a){a.r(s);var t=a(85893),r=a(24465),l=a(11163),n=a(67294),i=a(45820),c=a(21384);s.default=e=>{let{keyword:s,cRef:a}=e,{searchModal:d}=(0,i.useFukasawaGlobal)(),[o,u]=(0,n.useState)(!1),{locale:x}=(0,r.O)(),f=(0,l.useRouter)(),m=(0,n.useRef)();(0,n.useImperativeHandle)(a,()=>({focus:()=>{var e;null==m||null===(e=m.current)||void 0===e||e.focus()}}));let h=()=>{if((0,c.JA)("ALGOLIA_APP_ID")){var e;null==d||null===(e=d.current)||void 0===e||e.openSearch()}let s=m.current.value;s&&""!==s?(u(!0),f.push({pathname:"/search/"+s}).then(e=>{u(!1)})):f.push({pathname:"/"}).then(e=>{})},j=()=>{m.current.value=""};return(0,t.jsxs)("div",{className:"flex w-full bg-gray-100",children:[(0,t.jsx)("input",{ref:m,type:"text",placeholder:x.SEARCH.ARTICLES,"aria-label":"Search",className:"outline-none w-full text-sm pl-2 transition focus:shadow-lg font-light leading-10 text-black bg-gray-100 dark:bg-gray-800 dark:text-white",onKeyUp:e=>{if((0,c.JA)("ALGOLIA_APP_ID")){var s;null==d||null===(s=d.current)||void 0===s||s.openSearch();return}13===e.keyCode?h(m.current.value):27===e.keyCode&&j()},onFocus:()=>{if((0,c.JA)("ALGOLIA_APP_ID")){var e;null==d||null===(e=d.current)||void 0===e||e.openSearch()}},defaultValue:s||""}),(0,t.jsx)("div",{className:"-ml-8 cursor-pointer float-right items-center justify-center py-2",onClick:h,children:(0,t.jsx)("i",{className:"hover:text-black transform duration-200  text-gray-500 cursor-pointer fas ".concat(o?"fa-spinner animate-spin":"fa-search")})}),s&&s.length&&(0,t.jsx)("div",{className:"-ml-12 cursor-pointer flex float-right items-center justify-center py-2",children:(0,t.jsx)("i",{className:"hover:text-black transform duration-200 text-gray-400 cursor-pointer fas fa-times",onClick:j})})]})}},45820:function(e,s,a){a.r(s),a.d(s,{Layout404:function(){return F},LayoutArchive:function(){return P},LayoutBase:function(){return O},LayoutCategoryIndex:function(){return B},LayoutIndex:function(){return I},LayoutPostList:function(){return T},LayoutSearch:function(){return C},LayoutSlug:function(){return R},LayoutTagIndex:function(){return J},THEME_CONFIG:function(){return A.default},useFukasawaGlobal:function(){return _}});var t=a(85893),r=a(34701),l=a(31),n=a(834),i=a(24421),c=a(21384),d=a(24465),o=a(47935),u=a(89121),x=a(5152),f=a.n(x),m=a(7835),h=a(11163),j=a(67294),p=a(28518),v=a(84568),g=a(31411),y=a(5984),N=a(22911),w=a(44794),b=a(58536),k=a(27408),A=a(82140),S=a(95325);let E=f()(()=>Promise.resolve().then(a.bind(a,27411)),{loadableGenerated:{webpack:()=>[27411]}}),L=(0,j.createContext)(),_=()=>(0,j.useContext)(L),O=e=>{let{children:s,headerSlot:a}=e,n=(0,t.jsx)(E,{}),{onLoading:i,fullWidth:o}=(0,d.O)(),x=(0,j.useRef)(null);return(0,t.jsx)(L.Provider,{value:{searchModal:x},children:(0,t.jsxs)("div",{id:"theme-fukasawa",className:"".concat((0,c.JA)("FONT_STYLE")," dark:bg-black scroll-smooth"),children:[(0,t.jsx)(S.Style,{}),(0,t.jsx)(b.default,{...e}),(0,t.jsxs)("div",{className:(JSON.parse((0,c.JA)("LAYOUT_SIDEBAR_REVERSE"))?"flex-row-reverse":"")+" flex",children:[(0,t.jsx)(g.default,{...e,slot:n}),(0,t.jsx)("main",{id:"wrapper",className:"relative flex w-full py-8 justify-center bg-day dark:bg-night",children:(0,t.jsxs)("div",{id:"container-inner",className:"".concat(o?"":"2xl:max-w-6xl md:max-w-4xl"," w-full relative z-10"),children:[(0,t.jsxs)(u.u,{show:!i,appear:!0,className:"w-full",enter:"transition ease-in-out duration-700 transform order-first",enterFrom:"opacity-0 translate-y-16",enterTo:"opacity-100",leave:"transition ease-in-out duration-300 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-16",unmount:!1,children:[(0,t.jsxs)("div",{children:[" ",a," "]}),(0,t.jsxs)("div",{children:[" ",s," "]})]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(l.AdSlot,{type:"native"})})]})})]}),(0,t.jsx)(r.default,{cRef:x,...e})]})})},I=e=>(0,t.jsx)(T,{...e}),T=e=>{let s=(0,c.JA)("POST_LIST_STYLE");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-full p-2",children:(0,t.jsx)(i.default,{className:"w-full",orientation:"horizontal"})}),"page"===s?(0,t.jsx)(y.default,{...e}):(0,t.jsx)(N.default,{...e})]})},R=e=>{let{post:s,lock:a,validPassword:r}=e,l=(0,h.useRouter)(),n=1e3*(0,c.JA)("POST_WAITING_TIME_FOR_404");return(0,j.useEffect)(()=>{s||setTimeout(()=>{o.isBrowser&&!document.querySelector("#article-wrapper #notion-article")&&l.push("/404").then(()=>{console.warn("找不到页面",l.asPath)})},n)},[s]),(0,t.jsx)(t.Fragment,{children:a?(0,t.jsx)(v.default,{validPassword:r}):s&&(0,t.jsx)(p.default,{...e})})},C=e=>{let{keyword:s}=e,a=(0,h.useRouter)();return(0,j.useEffect)(()=>{o.isBrowser&&(0,n.Z)({doms:document.getElementById("posts-wrapper"),search:s,target:{element:"span",className:"text-red-500 border-b border-dashed"}})},[a]),(0,t.jsx)(T,{...e})},P=e=>{let{archivePosts:s}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"mb-10 pb-20 bg-white md:p-12 p-3 dark:bg-gray-800 shadow-md min-h-full",children:Object.keys(s).map(e=>(0,t.jsx)(w.default,{posts:s[e],archiveTitle:e},e))})})},F=e=>{let s=(0,h.useRouter)(),{locale:a}=(0,d.O)();return(0,j.useEffect)(()=>{setTimeout(()=>{o.isBrowser&&document.getElementById("article-wrapper")||s.push("/").then(()=>{})},3e3)},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"md:-mt-20 text-black w-full h-screen text-center justify-center content-center items-center flex flex-col",children:(0,t.jsxs)("div",{className:"dark:text-gray-200",children:[(0,t.jsxs)("h2",{className:"inline-block border-r-2 border-gray-600 mr-2 px-3 py-2 align-top",children:[(0,t.jsx)("i",{className:"mr-2 fas fa-spinner animate-spin"}),"404"]}),(0,t.jsx)("div",{className:"inline-block text-left h-32 leading-10 items-center",children:(0,t.jsx)("h2",{className:"m-0 p-0",children:a.NAV.PAGE_NOT_FOUND_REDIRECT})})]})})})},B=e=>{let{locale:s}=(0,d.O)(),{categoryOptions:a}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-700 px-10 py-10 shadow",children:[(0,t.jsxs)("div",{className:"dark:text-gray-200 mb-5",children:[(0,t.jsx)("i",{className:"mr-4 fas fa-th"}),s.COMMON.CATEGORY,":"]}),(0,t.jsx)("div",{id:"category-list",className:"duration-200 flex flex-wrap",children:null==a?void 0:a.map(e=>(0,t.jsx)(m.Z,{href:"/category/".concat(e.name),passHref:!0,legacyBehavior:!0,children:(0,t.jsxs)("div",{className:"hover:text-black dark:hover:text-white dark:text-gray-300 dark:hover:bg-gray-600 px-5 cursor-pointer py-2 hover:bg-gray-100",children:[(0,t.jsx)("i",{className:"mr-4 fas fa-folder"}),e.name,"(",e.count,")"]})},e.name))})]})})},J=e=>{let{locale:s}=(0,d.O)(),{tagOptions:a}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-700 px-10 py-10 shadow",children:[(0,t.jsxs)("div",{className:"dark:text-gray-200 mb-5",children:[(0,t.jsx)("i",{className:"mr-4 fas fa-tag"}),s.COMMON.TAGS,":"]}),(0,t.jsx)("div",{id:"tags-list",className:"duration-200 flex flex-wrap ml-8",children:a.map(e=>(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)(k.default,{tag:e},e.name)},e.name))})]})})}}}]);