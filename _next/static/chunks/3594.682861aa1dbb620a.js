"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3594],{87750:function(e,t,a){a.r(t),a.d(t,{Header:function(){return h}});var r=a(85893),l=a(91627),s=a(21384),n=a(24465),i=a(7835),o=a(11163),c=a(67294),u=a(83105),d=a(58307),m=a(561),f=a(95202);let h=e=>{let{collapseRef:t,searchModal:a}=(0,u.useMovieGlobal)(),h=(0,o.useRouter)(),{customNav:x,customMenu:p}=e,{locale:v}=(0,n.O)(),[j,y]=(0,c.useState)(!1),[g,N]=(0,c.useState)(!1),w=[{id:1,icon:"fa-solid fa-house",name:v.NAV.INDEX,href:"/",show:(0,s.JA)("MOVIE_MENU_INDEX",null,d.default)},{id:2,icon:"fas fa-search",name:v.NAV.SEARCH,href:"/search",show:(0,s.JA)("MOVIE_MENU_SEARCH",null,d.default)},{id:3,icon:"fas fa-archive",name:v.NAV.ARCHIVE,href:"/archive",show:(0,s.JA)("MOVIE_MENU_ARCHIVE",null,d.default)}];x&&(w=w.concat(x));for(let e=0;e<w.length;e++)w[e].id!==e&&(w[e].id=e);(0,s.JA)("CUSTOM_MENU")&&(w=p);let E=()=>{(0,s.JA)("ALGOLIA_APP_ID")?a.current.openSearch():N(!g)};return(0,c.useEffect)(()=>{g&&setTimeout(()=>{document.getElementById("search").focus()},100)},[g]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("header",{className:"w-full px-8 h-20 z-20 flex lg:flex-row md:flex-col justify-between items-center",children:[(0,r.jsx)(i.Z,{href:"/",className:"logo whitespace-nowrap text-2xl md:text-3xl font-bold text-gray-dark no-underline flex items-center",children:(0,s.JA)("TITLE")}),(0,r.jsx)("div",{className:"md:w-auto text-center flex space-x-2",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{id:"nav-mobile",className:"leading-8 justify-center w-full hidden md:flex",children:null==w?void 0:w.map((e,t)=>e&&e.show&&(0,r.jsx)(f.MenuItemDrop,{link:e},t))}),(0,r.jsx)("div",{onClick:E,className:"flex items-center cursor-pointer",children:(0,r.jsx)("i",{className:"fas fa-search dark:text-white"})}),(0,r.jsxs)("div",{className:"".concat(g?"top-16 visible opacity-100":"top-10 invisible opacity-0"," duration-200 transition-all max-w-md absolute  w-80 right-4 p-2 flex flex-col gap-2"),children:[(0,r.jsx)("input",{autoFocus:!0,id:"search",onClick:E,onKeyUp:e=>{if(13===e.keyCode){let e=document.getElementById("search").value;e&&h.push({pathname:"/search/"+e})}},className:"float-left w-full outline-none h-full p-2 rounded text-black bg-gray-100","aria-label":"Submit search",type:"search",name:"s",autoComplete:"off",placeholder:"Type then hit enter to search..."}),(0,r.jsxs)("button",{onClick:()=>{let e=document.getElementById("search").value;e&&h.push({pathname:"/search/"+e})},className:"w-full bg-[#383838] rounded py-2",children:[v.COMMON.SEARCH," 搜索"]})]}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)("div",{onClick:()=>{y(!j)},className:"w-8 cursor-pointer",children:j?(0,r.jsx)("i",{className:"fas fa-times"}):(0,r.jsx)("i",{className:"fas fa-bars"})})})]})})]}),(0,r.jsx)(l.Z,{className:"block md:hidden",collapseRef:t,type:"vertical",isOpen:j,children:(0,r.jsx)("menu",{id:"nav-menu-mobile",className:"my-auto justify-start",children:null==w?void 0:w.map((e,a)=>e&&e.show&&(0,r.jsx)(m.MenuItemCollapse,{onHeightChange:e=>{var a;return null===(a=t.current)||void 0===a?void 0:a.updateCollapseHeight(e)},link:e},a))})})]})}},83105:function(e,t,a){a.r(t),a.d(t,{Layout404:function(){return V},LayoutArchive:function(){return U},LayoutBase:function(){return B},LayoutCategoryIndex:function(){return D},LayoutIndex:function(){return J},LayoutPostList:function(){return P},LayoutSearch:function(){return q},LayoutSlug:function(){return H},LayoutTagIndex:function(){return G},THEME_CONFIG:function(){return M.default},useMovieGlobal:function(){return F}});var r=a(85893),l=a(34701),s=a(83610),n=a(834),i=a(88752),o=a(26416),c=a(21384),u=a(24465),d=a(39995),m=a(47935),f=a(89121),h=a(11163),x=a(67294),p=a(33930),v=a(52879),j=a(81984),y=a(16951),g=a(21985),N=a(20781),w=a(97066),E=a(97128),A=a(95053),b=a(62210),C=a(87750),S=a(54867),I=a(71657),_=a(86651),O=a(38333),L=a(59037),k=a(41023),M=a(58307),T=a(80895);let R=(0,x.createContext)(),F=()=>(0,x.useContext)(R),B=e=>{let{children:t,slotTop:a}=e,{onLoading:s,fullWidth:n}=(0,u.O)(),i=(0,x.useRef)(null),o=(0,h.useRouter)(),m=(0,x.useRef)(null),[p,v]=(0,x.useState)(!1);(0,x.useEffect)(()=>{(0,d.f)()},[]);let j="/"===o.route&&(0,c.JA)("MOVIE_HOME_BACKGROUND",null,M.default)?(0,r.jsx)(S.HomeBackgroundImage,{}):null;return(0,r.jsx)(R.Provider,{value:{searchModal:m,expandMenu:p,updateExpandMenu:v,collapseRef:i},children:(0,r.jsxs)("div",{id:"theme-movie",className:"".concat((0,c.JA)("FONT_STYLE")," dark:text-gray-300 duration-300 transition-all bg-white dark:bg-[#2A2A2A] scroll-smooth min-h-screen flex flex-col justify-between"),children:[(0,r.jsx)(T.Style,{}),(0,r.jsx)(C.Header,{...e}),j,(0,r.jsx)("div",{id:"container-inner",className:"w-full relative flex-grow z-10",children:(0,r.jsx)("div",{id:"container-wrapper",className:(JSON.parse((0,c.JA)("LAYOUT_SIDEBAR_REVERSE"))?"flex-row-reverse":"")+"relative mx-auto justify-center md:flex items-start",children:(0,r.jsx)("div",{className:"w-full ".concat(""," px-6"),children:(0,r.jsxs)(f.u,{show:!s,appear:!0,enter:"transition ease-in-out duration-700 transform order-first",enterFrom:"opacity-0 translate-y-16",enterTo:"opacity-100",leave:"transition ease-in-out duration-300 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-16",unmount:!1,children:[a,t]})})})}),(0,r.jsx)(b.Footer,{...e}),(0,r.jsx)(l.default,{cRef:m,...e}),(0,r.jsx)("div",{className:"fixed right-4 bottom-4 z-10",children:(0,r.jsx)(I.default,{})})]})})},J=e=>(0,r.jsx)(P,{...e}),P=e=>(0,r.jsxs)("div",{className:"max-w-[90rem] mx-auto",children:[(0,r.jsx)(O.default,{...e}),"page"===(0,c.JA)("POST_LIST_STYLE")?(0,r.jsx)(g.BlogListPage,{...e}):(0,r.jsx)(N.BlogListScroll,{...e})]}),H=e=>{let{post:t,lock:a,validPassword:l}=e,n=(0,h.useRouter)(),u=1e3*(0,c.JA)("POST_WAITING_TIME_FOR_404");return(0,x.useEffect)(()=>(setTimeout(()=>{!function(){let e=document.querySelector("#article-wrapper #notion-article");if(!e)return;let t=document.querySelectorAll(".notion-asset-wrapper");if(!t||0===t.length)return;let a=document.querySelectorAll(".video-wrapper");if(a&&a.length>0)return;let r=document.createElement("div");r.className="video-wrapper py-1 px-3 bg-gray-100 dark:bg-white dark:text-black mx-auto";let l=document.createElement("div");l.classList.add("notion-carousel-wrapper");let s=[];t.forEach((e,t)=>{var a;let r=e.querySelector("figcaption");if(!e.classList.contains("notion-asset-wrapper-video")&&!e.classList.contains("notion-asset-wrapper-embed")||!r)return;let n=r?null==r?void 0:null===(a=r.textContent)||void 0===a?void 0:a.trim():"P-".concat(t);s.push(n);let i=document.createElement("div");i.classList.add("notion-carousel"),i.appendChild(e);let o=e.querySelector("iframe");o&&(null==o||o.setAttribute("data-src",null==o?void 0:o.getAttribute("src"))),0===t?i.classList.add("active"):null==o||o.setAttribute("src",""),l.appendChild(i)});let n=document.createElement("div");n.className="notion-carousel-route py-2 max-h-36 overflow-y-auto",s.forEach(e=>{let t=document.createElement("div");t.textContent=e,t.addEventListener("click",function(){document.querySelectorAll(".notion-carousel").forEach(t=>{let a=t.querySelector("iframe");if(t.querySelector("figcaption").textContent.trim()===e)t.classList.add("active"),a&&a.setAttribute("src",a.getAttribute("data-src"));else{var r;t.classList.remove("active"),null===(r=t.querySelectorAll("video"))||void 0===r||r.forEach(e=>{e.pause()}),a&&a.setAttribute("src","")}})}),n.appendChild(t)}),l.children.length>0&&(r.appendChild(l),(n.children.length>1||(0,c.JA)("MOVIE_VIDEO_COMBINE_SHOW_PAGE_FORCE",!1,M.default))&&r.appendChild(n),e.firstChild&&e.contains(e.firstChild)?e.insertBefore(r,e.firstChild):e.appendChild(r))}()},1500),t||setTimeout(()=>{m.isBrowser&&!document.querySelector("#article-wrapper #notion-article")&&n.push("/404").then(()=>{console.warn("找不到页面",n.asPath)})},u),()=>{document.querySelectorAll(".video-wrapper").forEach(e=>{e.parentNode.removeChild(e)})}),[t]),(0,r.jsx)(r.Fragment,{children:a?(0,r.jsx)(j.ArticleLock,{validPassword:l}):t&&(0,r.jsxs)("div",{id:"article-wrapper",className:"px-2 max-w-5xl 2xl:max-w-[70%] mx-auto",children:[(0,r.jsx)(v.ArticleInfo,{post:t}),(0,r.jsx)(i.default,{post:t}),(0,r.jsx)(w.default,{...e}),(0,r.jsx)(o.default,{post:t}),(0,r.jsx)(s.default,{frontMatter:t})]})})},V=e=>{let{locale:t}=(0,u.O)(),{searchModal:a}=F(),l=(0,h.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"h-52",children:[(0,r.jsx)("h2",{className:"text-4xl",children:t.COMMON.NO_RESULTS_FOUND}),(0,r.jsx)("hr",{className:"my-4"}),(0,r.jsxs)("div",{className:"max-w-md relative",children:[(0,r.jsx)("input",{autoFocus:!0,id:"search",onClick:()=>{(0,c.JA)("ALGOLIA_APP_ID")&&a.current.openSearch()},onKeyUp:e=>{if(13===e.keyCode){let e=document.getElementById("search").value;e&&l.push({pathname:"/search/"+e})}},className:"float-left w-full outline-none h-full p-2 rounded dark:bg-[#383838] bg-gray-100","aria-label":"Submit search",type:"search",name:"s",autoComplete:"off",placeholder:"Type then hit enter to search..."}),(0,r.jsx)("i",{className:"fas fa-search absolute right-0 my-auto p-2"})]})]}),(0,r.jsxs)("div",{className:"h-full flex-grow grid grid-cols-4 gap-4",children:[(0,r.jsx)(_.default,{...e}),(0,r.jsx)(E.default,{...e}),(0,r.jsx)(p.default,{...e}),(0,r.jsx)(L.default,{...e})]})]})},q=e=>{let{keyword:t}=e,a=(0,h.useRouter)();return(0,x.useEffect)(()=>{if(m.isBrowser){let e=document.getElementById("posts-wrapper");t&&e&&(0,n.Z)({doms:e,search:t,target:{element:"span",className:"text-red-500 border-b border-dashed"}})}},[a]),(0,r.jsx)(P,{...e})},U=e=>{let{archivePosts:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"mb-10 pb-20 md:py-12 p-3  min-h-screen w-full",children:Object.keys(t).map(e=>(0,r.jsx)(y.default,{archiveTitle:e,archivePosts:t},e))})})},D=e=>{let{categoryOptions:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{id:"category-list",className:"duration-200 flex flex-wrap",children:null==t?void 0:t.map(e=>(0,r.jsx)(A.default,{category:e},e.name))})})},G=e=>{let{tagOptions:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{id:"tags-list",className:"duration-200 flex flex-wrap",children:t.map(e=>(0,r.jsx)(k.default,{tag:e},e.name))})})}}}]);