"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8863],{33516:function(e,a,s){s.r(a);var l=s(85893),t=s(58863),r=s(4045),i=s(26710);a.default=e=>{let{post:a,cRef:s}=e,{tocVisible:n,changeTocVisible:d}=(0,t.useMagzineGlobal)();return(0,l.jsxs)("div",{className:"lg:hidden",children:[(0,l.jsx)("div",{onClick:()=>{d(!0)},className:"fixed right-0 bottom-24 z-20 shadow bg-white dark:bg-hexo-black-gray",children:!n&&(0,l.jsx)(i.default,{})}),(0,l.jsx)("div",{id:"magzine-toc-float",className:"fixed top-0 right-0 z-40",children:(0,l.jsx)("div",{className:(n?"animate__slideInRight ":" -mr-72 animate__slideOutRight")+" overflow-y-hidden shadow-card w-60 duration-200 fixed right-1 bottom-16 rounded py-2 bg-white dark:bg-gray-600",children:a&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"dark:text-gray-400 text-gray-600 h-56 px-2",children:(0,l.jsx)(r.default,{toc:a.toc})})})})}),(0,l.jsx)("div",{id:"right-drawer-background",className:(n?"block":"hidden")+" fixed top-0 left-0 z-30 w-full h-full",onClick:()=>{d(!n)}})]})}},378:function(e,a,s){s.r(a),s.d(a,{default:function(){return y}});var l=s(85893),t=s(91627),r=s(93130),i=s(61328),n=s(21384),d=s(24465),c=s(240),x=s(27899),o=s(93096),u=s.n(o),h=s(11163),f=s(67294),m=s(58863),j=s(40288),p=s(37797),g=s(7331),v=s(42676),N=s(83454);function y(e){let{customNav:a,customMenu:s}=e,[o,y]=(0,f.useState)(!1),w=(0,f.useRef)(null),b=(0,f.useRef)(0),{locale:_}=(0,d.O)(),E=(0,h.useRouter)(),{searchModal:k}=(0,m.useMagzineGlobal)(),L=[{icon:"fas fa-th",name:_.COMMON.CATEGORY,href:"/category",show:j.default.MENU_CATEGORY},{icon:"fas fa-tag",name:_.COMMON.TAGS,href:"/tag",show:j.default.MENU_TAG},{icon:"fas fa-archive",name:_.NAV.ARCHIVE,href:"/archive",show:j.default.MENU_ARCHIVE},{icon:"fas fa-search",name:_.NAV.SEARCH,href:"/search",show:j.default.MENU_SEARCH}].concat(a);(0,f.useEffect)(()=>(A(),y(!1),window.addEventListener("scroll",A),()=>{window.removeEventListener("scroll",A)}),[E]);let A=u()(()=>{let e=window.scrollY;if(e===b.current)return;let a=document.querySelector("#top-navbar");e>60?a&&a.classList.replace("h-20","h-14"):a&&a.classList.replace("h-14","h-20"),b.current=e},150),[S,C]=(0,f.useState)(!1);if((0,n.JA)("CUSTOM_MENU")&&(L=s),!L||0===L.length)return null;let O=N.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY;return(0,l.jsxs)("div",{id:"top-navbar-wrapper",className:"sticky top-0 w-full z-40 shadow bg-white dark:bg-hexo-black-gray ",children:[(0,l.jsxs)("div",{id:"top-navbar",className:"px-4 lg:px-0 flex w-full mx-auto max-w-screen-3xl h-20 transition-all duration-200 items-center justify-between",children:[S&&(0,l.jsx)("input",{autoFocus:!0,id:"simple-search",onKeyUp:e=>{if(13===e.keyCode){let e=document.getElementById("simple-search").value;e&&E.push({pathname:"/search/"+e})}},className:"outline-none dark:bg-hexo-black-gray dark:text flex flex-row text-base relative w-full border-b py-2","aria-label":"Submit search",type:"search",name:"s",autoComplete:"off",placeholder:"Type then hit enter to search..."}),!S&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex gap-x-2 lg:gap-x-4 h-full",children:[(0,l.jsx)(p.default,{...e,className:"text-sm md:text-md lg:text-lg"}),(0,l.jsx)("ul",{className:"hidden md:flex items-center gap-x-4 py-1 text-sm md:text-md",children:L&&(null==L?void 0:L.map((e,a)=>(0,l.jsx)(v.MenuItemDrop,{link:e},a)))})]})}),(0,l.jsxs)("div",{className:"flex items-center gap-x-2 pr-2",children:[(0,l.jsx)("div",{onClick:()=>{(0,n.JA)("ALGOLIA_APP_ID")?k.current.openSearch():C(!S)},className:"flex text-center items-center cursor-pointer p-2.5 hover:bg-black hover:bg-opacity-10 rounded-full",children:(0,l.jsx)("i",{className:S?"fa-regular fa-circle-xmark":"fa-solid fa-magnifying-glass align-middle hover:scale-110 transform duration-200"})}),(0,l.jsx)("div",{className:"p-2.5 hover:bg-black hover:bg-opacity-10 rounded-full",children:(0,l.jsx)(r.Z,{})}),(0,l.jsx)("div",{className:"mr-1 flex md:hidden justify-end items-center text-lg space-x-4 font-serif dark:text-gray-200",children:(0,l.jsx)("div",{onClick:()=>{y(!o)},className:"cursor-pointer p-2",children:o?(0,l.jsx)("i",{className:"fas fa-times"}):(0,l.jsx)("i",{className:"fas fa-bars"})})}),O&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.SignedOut,{children:(0,l.jsx)(x.$d,{mode:"modal",children:(0,l.jsx)("button",{className:"bg-gray-800 hover:bg-gray-900 text-white rounded-lg px-3 py-2",children:_.COMMON.SIGN_IN})})}),(0,l.jsxs)(c.SignedIn,{children:[(0,l.jsx)(x.l8,{}),(0,l.jsx)(i.Z,{})]})]})]})]}),(0,l.jsx)(t.Z,{type:"vertical",collapseRef:w,isOpen:o,className:"md:hidden",children:(0,l.jsx)("div",{className:"bg-white dark:bg-hexo-black-gray pt-1 py-2",children:(0,l.jsx)(g.MenuBarMobile,{...e,onHeightChange:e=>{var a;return null===(a=w.current)||void 0===a?void 0:a.updateCollapseHeight(e)}})})})]})}},58863:function(e,a,s){s.r(a),s.d(a,{Layout404:function(){return Q},LayoutArchive:function(){return $},LayoutBase:function(){return D},LayoutCategoryIndex:function(){return ee},LayoutDashboard:function(){return et},LayoutIndex:function(){return V},LayoutPostList:function(){return q},LayoutSearch:function(){return W},LayoutSignIn:function(){return es},LayoutSignUp:function(){return el},LayoutSlug:function(){return X},LayoutTagIndex:function(){return ea},THEME_CONFIG:function(){return H.default},useMagzineGlobal:function(){return K}});var l=s(85893),t=s(34701),r=s(83610),i=s(31),n=s(92619),d=s(834),c=s(88752),x=s(26416),o=s(24421),u=s(66901),h=s(97141),f=s(21384),m=s(24465),j=s(47935),p=s(1515),g=s(7835),v=s(11163),N=s(67294),y=s(71763),w=s(16744),b=s(42276),_=s(42582),E=s(4045),k=s(33516),L=s(40336),A=s(17334),S=s(378),C=s(90841),O=s(54594),T=s(45999),I=s(50214),M=s(91120),R=s(21060),P=s(73260),B=s(61940),F=s(11243),G=s(6786),U=s(14858),z=s(16847),H=s(40288),Y=s(47277),Z=s(83454);let J=(0,N.createContext)(),K=()=>(0,N.useContext)(J),D=e=>{let{children:a}=e,[s,r]=(0,N.useState)(!1),i=(0,N.useRef)(null);return(0,l.jsxs)(J.Provider,{value:{searchModal:i,tocVisible:s,changeTocVisible:r},children:[(0,l.jsx)(Y.Style,{}),(0,l.jsxs)("div",{id:"theme-magzine",className:"".concat((0,f.JA)("FONT_STYLE")," bg-white dark:bg-hexo-black-gray w-full h-full min-h-screen flex flex-col justify-between dark:text-gray-300 scroll-smooth"),children:[(0,l.jsx)("main",{id:"wrapper",className:"relative flex flex-col justify-between w-full h-full mx-auto",children:(0,l.jsxs)("div",{id:"container-wrapper",className:"w-full h-full min-h-screen flex flex-col relative z-10",children:[(0,l.jsx)(S.default,{...e}),(0,l.jsx)("div",{id:"main",role:"main",className:"flex-grow",children:a}),(0,l.jsx)(A.default,{title:(0,f.JA)("TITLE")})]})}),(0,l.jsx)(n.Z,{}),(0,l.jsx)(t.default,{cRef:i,...e})]})]})},V=e=>{let{posts:a}=e,s=a.slice(3,7);return(0,l.jsxs)("div",{className:"pt-10 md:pt-18",children:[(0,l.jsx)(C.default,{posts:a}),(0,l.jsx)(B.default,{title:"最新文章",href:"/archive",posts:s}),(0,l.jsx)(O.default,{...e}),(0,l.jsx)(R.default,{...e}),(0,l.jsx)(_.default,{...e})]})},q=e=>{let{category:a,tag:s,NOTION_CONFIG:t}=e;return(0,l.jsxs)("div",{className:" max-w-screen-3xl mx-auto w-full px-2 lg:px-0",children:[(0,l.jsx)("h2",{className:"py-8 text-2xl font-bold",children:a||s}),"page"===(0,f.JA)("POST_LIST_STYLE","page",t)?(0,l.jsx)(M.default,{...e}):(0,l.jsx)(P.default,{...e})]})},X=e=>{var a;let{post:s,recommendPosts:t,prev:n,next:d,lock:u,validPassword:h}=e,{locale:p}=(0,m.O)(),g=(0,v.useRouter)(),_=1e3*(0,f.JA)("POST_WAITING_TIME_FOR_404");return(0,N.useEffect)(()=>{var e;s||(null==g?void 0:null===(e=g.route)||void 0===e?void 0:e.indexOf("/[prefix]"))!==0||setTimeout(()=>{j.isBrowser&&!document.querySelector("#article-wrapper #notion-article")&&g.push("/404").then(()=>{console.warn("找不到页面",g.asPath)})},_)},[g]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"w-full mx-auto max-w-screen-3xl",children:[(0,l.jsx)(o.default,{orientation:"horizontal"}),u&&(0,l.jsx)(w.ArticleLock,{validPassword:h}),!u&&(0,l.jsxs)("div",{className:"w-full max-w-screen-3xl mx-auto",children:[s&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.default,{...e}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8 py-12",children:[(0,l.jsx)("div",{className:"h-full lg:col-span-1 hidden lg:block",children:(0,l.jsx)(E.default,{post:s,toc:(null==s?void 0:s.toc)||[],className:"sticky top-20"})}),(0,l.jsxs)("article",{className:"max-w-3xl lg:col-span-3 w-full mx-auto px-2 lg:px-0",children:[(0,l.jsx)("div",{id:"article-wrapper",children:(0,l.jsx)(c.default,{post:s})}),(0,l.jsxs)("section",{children:[(0,l.jsx)("div",{className:"py-2 flex justify-end",children:(0,f.JA)("MAGZINE_POST_DETAIL_TAG")&&(null==s?void 0:null===(a=s.tagItems)||void 0===a?void 0:a.map(e=>(0,l.jsx)(U.default,{tag:e},e.name)))}),(0,l.jsx)(x.default,{post:s}),(0,l.jsx)(F.default,{prev:n,next:d}),(0,l.jsx)(r.default,{frontMatter:s})]})]}),(0,l.jsxs)("div",{className:"lg:col-span-1 flex flex-col justify-between px-2 lg:px-0 space-y-2 lg:space-y-0",children:[(0,l.jsx)("section",{className:"text-lg gap-y-6 text-center lg:text-left",children:(0,l.jsxs)("div",{className:"text-gray-500 py-1 dark:text-gray-600 ",children:[(0,l.jsxs)("div",{className:"whitespace-nowrap mr-2",children:[(0,l.jsx)("i",{className:"far fa-calendar-check mr-2"}),null==s?void 0:s.lastEditedDay]}),(0,l.jsxs)("div",{className:"hidden busuanzi_container_page_pv  mr-2 whitespace-nowrap",children:[(0,l.jsx)("i",{className:"mr-1 fas fa-fire"}),(0,l.jsx)("span",{className:"busuanzi_value_page_pv"})]})]})}),(0,l.jsx)("div",{children:(0,l.jsx)(I.default,{...e,vertical:!0})}),(0,l.jsx)("div",{children:(0,l.jsx)(i.AdSlot,{})}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{children:(0,l.jsx)(L.default,{...e})}),(0,l.jsx)("div",{children:(0,l.jsx)(z.default,{})}),(0,l.jsx)("div",{children:(0,l.jsx)(o.default,{})}),(0,l.jsx)("div",{})]})]}),(0,l.jsx)(k.default,{...e})]}),!s&&(0,l.jsx)("div",{className:"flex justify-center items-center w-full py-40",children:"Loading..."})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(b.default,{}),t&&t.length>0&&(0,l.jsx)(B.default,{title:p.COMMON.RELATE_POSTS,posts:t})]})]})},W=e=>{var a;let{locale:s}=(0,m.O)(),{keyword:t}=e,r=(0,v.useRouter)(),i=t||(null==r?void 0:null===(a=r.query)||void 0===a?void 0:a.s);return(0,N.useEffect)(()=>{j.isBrowser&&(0,d.Z)({doms:document.getElementById("posts-wrapper"),search:t,target:{element:"span",className:"text-red-500 border-b border-dashed"}})},[]),(0,l.jsxs)("div",{className:"max-w-screen-3xl w-full mx-auto",children:[(0,l.jsxs)("div",{className:"py-12",children:[(0,l.jsx)("div",{className:"pb-4 w-full",children:s.NAV.SEARCH}),!i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(G.default,{...e}),(0,l.jsx)(L.default,{...e})]})]}),i&&(0,l.jsx)("div",{children:"page"===(0,f.JA)("POST_LIST_STYLE")?(0,l.jsx)(M.default,{...e}):(0,l.jsx)(P.default,{...e})})]})},$=e=>{var a;let{archivePosts:s}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"w-full max-w-screen-3xl mx-auto mt-14 min-h-full",children:null===(a=Object.keys(s))||void 0===a?void 0:a.map(e=>(0,l.jsx)(T.default,{archiveTitle:e,posts:s[e]},e))})})},Q=e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"w-full py-40 flex justify-center items-center",children:"404 Not found."}),(0,l.jsx)(R.default,{...e})]}),ee=e=>{let{categoryOptions:a}=e,{locale:s}=(0,m.O)();return(0,l.jsx)("div",{className:"w-full max-w-screen-3xl mx-auto min-h-96",children:(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-700 py-10",children:[(0,l.jsxs)("div",{className:"dark:text-gray-200 mb-5 text-2xl font-bold",children:[s.COMMON.CATEGORY,":"]}),(0,l.jsx)("div",{id:"category-list",className:"duration-200 flex flex-wrap",children:null==a?void 0:a.map(e=>(0,l.jsx)(g.Z,{href:"/category/".concat(e.name),passHref:!0,legacyBehavior:!0,children:(0,l.jsxs)("div",{className:"hover:text-black dark:hover:text-white dark:text-gray-300 dark:hover:bg-gray-600 px-5 cursor-pointer py-2 hover:bg-gray-100",children:[e.name,"(",e.count,")"]})},e.name))})]})})},ea=e=>{let{tagOptions:a}=e,{locale:s}=(0,m.O)();return(0,l.jsx)("div",{className:"w-full max-w-screen-3xl mx-auto min-h-96",children:(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-700 py-10",children:[(0,l.jsxs)("div",{className:"dark:text-gray-200 mb-5  text-2xl font-bold",children:[s.COMMON.TAGS,":"]}),(0,l.jsx)("div",{id:"tags-list",className:"duration-200 flex flex-wrap",children:null==a?void 0:a.map(e=>(0,l.jsx)("div",{className:"p-2",children:(0,l.jsx)(U.default,{tag:e},e.name)},e.name))})]})})},es=e=>{let{post:a}=e,s=Z.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"grow mt-20",children:[s&&(0,l.jsx)("div",{className:"flex justify-center py-6",children:(0,l.jsx)(p.cL,{})}),(0,l.jsx)("div",{id:"article-wrapper",children:(0,l.jsx)(c.default,{post:a})})]})})},el=e=>{let{post:a}=e,s=Z.env.NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"grow mt-20",children:[s&&(0,l.jsx)("div",{className:"flex justify-center py-6",children:(0,l.jsx)(p.Mo,{})}),(0,l.jsx)("div",{id:"article-wrapper",children:(0,l.jsx)(c.default,{post:a})})]})})},et=e=>{let{post:a}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"container grow",children:(0,l.jsx)("div",{className:"flex flex-wrap justify-center -mx-4",children:(0,l.jsx)("div",{id:"container-inner",className:"w-full p-4",children:a&&(0,l.jsx)("div",{id:"article-wrapper",className:"mx-auto",children:(0,l.jsx)(c.default,{...e})})})})}),(0,l.jsx)(h.Z,{}),(0,l.jsx)(u.Z,{})]})}}}]);